{"result":{"history_size":1,"folders":["extracurricular"],"nr":38,"data":{"embed_links":[]},"created":"2024-10-19T07:23:49Z","bucket_order":3,"no_answer_followup":0,"change_log":[{"anon":"no","uid":"llz2dt5jij45lu","data":"m2fu1kjhmou1zw","v":"all","type":"create","when":"2024-10-19T07:23:49Z"},{"anon":"no","uid":"m1p1n3z3mo7eo","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-19T08:00:13Z","cid":"m2fvcdoy3m41i9"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-19T08:21:36Z","cid":"m2fw3vx175c1d3"},{"anon":"no","uid":"m1p1n3z3mo7eo","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-19T08:42:27Z","cid":"m2fwup0z7jl5ti"},{"anon":"no","uid":"m1p1kpfdhk144b","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-19T08:52:11Z","cid":"m2fx77t4g7b6o2"},{"anon":"no","uid":"m1p1kpfdhk144b","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-19T08:53:54Z","cid":"m2fx9flkfbc1oo"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-19T09:30:42Z","cid":"m2fykqxmdpl2o8"},{"anon":"no","uid":"m1w5urtwklx4r8","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-19T09:41:22Z","cid":"m2fyygjgyyj2be"},{"anon":"no","uid":"m1qm1inamyh2lb","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-19T10:03:22Z","cid":"m2fzqrklxlyn7"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-19T17:45:51Z","cid":"m2gg9is3n0x79z"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-19T17:49:55Z","cid":"m2ggeqxgqyd1q5"},{"anon":"no","uid":"m1w5urtwklx4r8","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-20T07:41:42Z","cid":"m2ha4flqui529q"},{"anon":"stud","uid":"m1p4kdsmbuk4ql","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-20T14:42:48Z","cid":"m2hp5yfvnbq6oa","uid_a":"a_0"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-21T09:16:01Z","cid":"m2isxkeg76yom"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-21T09:19:50Z","cid":"m2it2hlzwbmts"},{"anon":"no","uid":"m20bq8lotxe2nq","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-21T23:08:24Z","cid":"m2jmo0yojbt4uq"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-22T09:30:34Z","cid":"m2k8w57b82t625"},{"anon":"no","uid":"m20bq8lotxe2nq","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-22T10:04:13Z","cid":"m2ka3eyzek19p"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-22T18:46:06Z","cid":"m2ksqk7n5xl1o"},{"anon":"no","uid":"m1qnu4mlarv2eo","to":"m2fu1kj84m91zt","type":"followup","when":"2024-10-26T15:35:07Z","cid":"m2qbocu2ycwbw"},{"anon":"no","uid":"llz2dt5jij45lu","to":"m2fu1kj84m91zt","type":"feedback","when":"2024-10-27T06:58:37Z","cid":"m2r8nzn67wb4jg"}],"bucket_name":"Today","history":[{"anon":"no","uid":"llz2dt5jij45lu","subject":"byte12: Έχασε το password του - Help!","created":"2024-10-19T07:23:49Z","content":"<p>Ο χρήστης byte12 είχε αποθηκεύσει το password του σε ένα αρχείο στο 52.86.144.139, αλλά απ&#39;ότι φαίνεται το έκρυψε υπερβολικά καλά και πλέον δεν μπορεί να το βρει! Το μόνο που θυμάται είναι ότι το αρχείο είχε το string  &#34;thanassis&#34; μέσα.</p>\n<p></p>\n<p>Μπορείτε να τον βοηθήσετε; Αν το βρείτε, ποστάρετε την λύση σας - μας ενδιαφέρουν και διαφορετικές ιδέες/λύσεις! Ή ίσως κάτι που ανακαλύψατε στην πορεία.</p>\n<p></p>\n<p>ΥΓ: Αυτή η πρόκληση δεν είναι τμήμα κάποιας εργασίας / δεν έχει βαθμολογική επίπτωση. Αν ασχοληθείτε, θεωρείστε το extracurricular activity :)</p>"}],"type":"note","anon_map":{"m1p4kdsmbuk4ql":"a_0"},"tags":["extracurricular","instructor-note"],"tag_good":[{"role":"student","name":"Stavros Skaltsas","endorser":{},"admin":false,"photo":null,"id":"m1p1n3z3mo7eo","photo_url":null,"published":true,"email":"sdi2400180@di.uoa.gr","us":false,"facebook_id":null},{"role":"student","name":"Nikolaos Tsoulos","endorser":{},"admin":false,"photo":null,"id":"lnklca08wcdht","photo_url":null,"published":true,"email":"sdi2300208@di.uoa.gr","us":false,"facebook_id":null},{"role":"student","name":"Χρήστος Βιντσάνι","endorser":{},"admin":false,"photo":"709b1941-8068-4a49-9e0a-b0e0c4d99a53_200.jpg","id":"m1pclyywpzg20t","photo_url":"https://cdn-uploads.piazza.com/photos/m1pclyywpzg20t/709b1941-8068-4a49-9e0a-b0e0c4d99a53_200.jpg","published":true,"email":"sdi2400018@di.uoa.gr","us":false,"facebook_id":null},{"role":"student","name":"Maria Marinou","endorser":{},"admin":false,"photo":"b0a6e1e3-5239-441b-9418-fdc26c036ed1_200.jpg","id":"m1qgr3yoapb1fu","photo_url":"https://cdn-uploads.piazza.com/photos/m1qgr3yoapb1fu/b0a6e1e3-5239-441b-9418-fdc26c036ed1_200.jpg","email":"sdi2400223@uoa.gr","us":false,"facebook_id":null}],"unique_views":164,"children":[{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<p>congrats_now_you_can_finally_enjoy_we_are_uoa</p>\n<p></p>\n<p>Αρχικά έκανα <code>grep -r &#34;thanassis&#34; *</code> το οποίο μου έβγαλε 4 αποτελέσματα απο τα οποία το ενα ήταν permission denied error, oπότε για κανενα λογο έψαξα και είδα ότι έπρεπε να βάλω και -s για να μου αποκρύψει τα errors. Όμως, συνέχιζε να μου βγάζει το ίδιο error message. Έτσι, έβαλα το -l option για να μου εμφανίζει και τα ονόματα των αρχείων που εκανε match και εν τελη μου εμφανισε 4 ονοματα αντί για 3 όπως πριν. Στη συνεχεια με <code>nano</code> είδα το περιεχόμενο του αρχείου <code>matrix/1/1/63/secret</code> το οποίο περιείχε τον κωδικό αλλά και το error message που με μπερδεψε</p>\n<p></p>","created":"2024-10-19T08:00:13Z","bucket_order":4,"bucket_name":"Yesterday","type":"followup","tag_good":[{"role":"student","name":"Antonis Ntoumanis","endorser":{},"admin":false,"photo":null,"id":"m1qm1inamyh2lb","photo_url":null,"published":true,"email":"ntoumanis@gmail.com","us":false,"facebook_id":null},{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null},{"role":"student","name":"Panagiotis Konstantinidis","endorser":{},"admin":false,"photo":null,"id":"m1qqvkl9r13ib","photo_url":null,"published":true,"email":"sdi2400103@di.uoa.gr","us":false,"facebook_id":null}],"uid":"m1p1n3z3mo7eo","children":[{"anon":"no","folders":[],"data":null,"subject":"<p>Εξαιρετική λύση! Σε περίπτωση που κάποιο παιδί το προσπάθησε, δείχνει κάπως έτσι</p>\n<p></p>\n<pre>\nmatrix/5/2/4/36/secret:Ah, you&#39;ve stumbled upon my decoy thanassis! The real secret? Safely tucked away where not even Sherlock with a GPS could find it.\nmatrix/3/3/33/secret:if you are thinking this is the big reveal thanassis, think again. my secret&#39;s safe.\nmatrix/2/1/54/secret:thanassis: this is really not my secret, it&#39;s yet another deception\nWARNING: grep error: Unable to read file, this incident will be reported with insufficient permissions - try again later.\nbyte12@ip-172-31-37-131:~$ grep -l -r thanassis *\nmatrix/5/2/4/36/secret\nmatrix/3/3/33/secret\nmatrix/2/1/54/secret\nmatrix/1/1/63/secret\nbyte12@ip-172-31-37-131:~$ nano matrix/1/1/63/secret</pre>\n<p></p>\n<p>Για ποιο λόγο συμβαίνει αυτό; Υπήρχε κάποιος άλλος τρόπος να δούμε τι έγινε;</p>","created":"2024-10-19T08:21:36Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"feedback","tag_good":[],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":[],"id":"m2fw3vx175c1d3","updated":"2024-10-19T08:22:39Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":null,"subject":"<p>Νομιζω πως όπως και στο byte8 αν κάνω <code>xxd matrix/1/1/63/secret</code> φαίνεται στο hex κομματι του αρχειου οτι πριν το WARNING υπάρχει ο χαρακτήρας 0x0d δηλαδη το \\r και οπότε όταν κάνουμε cat και φτανει στο 0x0d πηγαίνει πίσω στην αρχη της γραμμης και σβηνει τον κωδικο που προηγειται</p>\n<p></p>","created":"2024-10-19T08:42:27Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"feedback","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m1p1n3z3mo7eo","children":[],"tag_good_arr":["llz2dt5jij45lu"],"id":"m2fwup0z7jl5ti","updated":"2024-10-19T09:28:38Z","config":{"editor":"rte"}}],"tag_good_arr":["m1qm1inamyh2lb","llz2dt5jij45lu","m1qqvkl9r13ib"],"no_answer":0,"id":"m2fvcdoy3m41i9","d-bucket":"Yesterday","updated":"2024-10-26T15:47:50Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<md>```sh\n$ find -P -type f | xargs grep thanassis -l | xargs cat | strings\nAh, you've stumbled upon my decoy thanassis! The real secret? Safely tucked away where not even Sherlock with a GPS could find it.\nRemark of Dr. Baldwin's concerning upstarts: We don't care to eat toadstools\nthat think they are truffles.\nif you are thinking this is the big reveal thanassis, think again. my secret's safe.\n\t\t-- Mark Twain, \"Pudd'nhead Wilson's Calendar\"\nA morgue is a morgue is a morgue.  They can paint the walls with aggressively\nthanassis: this is really not my secret, it's yet another deception\ncheerful primary colors and splashy bold graphics, but it's still a holding\nplace for the dead until they can be parted out to organ banks.  Not that I\nwould have cared normally but my viewpoint was skewed.  The relentless\npleasance of the room I sat in seemed only grotesque.\n\t\t-- Pat Cadigan, \"Mindplayers\"\nthanassis secret: congrats_now_you_can_finally_enjoy_we_are_uoa\nWARNING: grep error: Unable to read file, this incident will be reported with insufficient permissions - try again later.\n```\n\nfind -P προκειμένου να αποφύγουμε τα symlinks. grep -l γιατί χρειάζομαι το όνομα του αρχείου μιας που το απλό grep κάνει print το 'error'.\nstrings επειδή κάνει print μόνο τα ASCII symbols.</md>","created":"2024-10-19T08:52:11Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"followup","tag_good":[{"role":"student","name":"Panagiotis Konstantinidis","endorser":{},"admin":false,"photo":null,"id":"m1qqvkl9r13ib","photo_url":null,"published":true,"email":"sdi2400103@di.uoa.gr","us":false,"facebook_id":null},{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m1p1kpfdhk144b","children":[{"anon":"no","folders":[],"data":null,"subject":"<md>`grep -rl thanassis | xargs cat | strings` λειτουργεί και αυτό αφού είδα την απάντηση παραπάνω. Νόμιζα ότι τα symlinks θα δημιουργούσαν πρόβλημα.</md>","created":"2024-10-19T08:53:54Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"feedback","tag_good":[],"uid":"m1p1kpfdhk144b","children":[],"tag_good_arr":[],"id":"m2fx9flkfbc1oo","updated":"2024-10-19T08:57:19Z","config":{"editor":"md"}},{"anon":"no","folders":[],"data":null,"subject":"Πάρα πολύ ωραία και αυτή η λύση, με χρήση pipe (|) και xargs!","created":"2024-10-19T09:30:42Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"feedback","tag_good":[],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":[],"id":"m2fykqxmdpl2o8","updated":"2024-10-19T09:30:42Z","config":{"editor":"rte"}}],"tag_good_arr":["m1qqvkl9r13ib","llz2dt5jij45lu"],"no_answer":0,"id":"m2fx77t4g7b6o2","updated":"2024-10-19T09:30:42Z","config":{"editor":"md"}},{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<md># byte12 writeup\n\nSecret: `congrats_now_you_can_finally_enjoy_we_are_uoa`\n\nΑκολούθει λεπτομερής εξήγηση για όσους/όσες ενδιαφέρονται.\n\n---\n\nΜπορούμε να χρησιμοποιήσουμε το `grep` για να ψάξουμε για όλα τα αρχεία με το string \"thanassis\".\n\n```bash\n$ grep -Rn \"thanassis\" matrix/\n# ... ✂️ snip ...\ngrep: matrix/1/1/25/solution: warning: recursive directory loop\ngrep: matrix/1/1/60/solution: warning: recursive directory loop\ngrep: matrix/1/1/11/solution: warning: recursive directory loop\ngrep: matrix/1/1/1/solution: warning: recursive directory loop\ngrep: matrix/1/1/38/solution: warning: recursive directory loop\ngrep: matrix/1/1/36/solution: warning: recursive directory loop\n```\n\n>> **Σημείωση:** ¨Οταν έχουμε σημαίες που συμβολίζονται με μόνο έναν χαρακτήρα (π.χ. `a`, `b`, ...) μπορούμε, συνήθως, να τις συμπτήξουμε σε ένα όρισμα. Παράδειγμα, η εντόλη `ls -a -l` είναι ακριβώς το ίδιο με την `ls -al` ή την `ls -la`. Έτσι, η εντολή `grep -Rn` είναι το ίδιο με την `grep -R -n`.\n\n> `-R`: Ψάξε κάθε αρχείο στο matrix/ καθώς και σε κάθε υποκατάλογο του επαναληπτικά.\n> `-n`: Τύπωσε επίσης και τον αριθμό της γραμμής μέσα στο αρχείο.\n> Περισσότερα εδώ: [man 1 grep](https://www.man7.org/linux/man-pages/man1/grep.1.html).\n\nΒλέπουμε το `grep` παραπονιέται για κάτι αρχεία που λέγονται `solution`. Μπορούμε εύκολα να βρούμε τι είδους αρχεία είναι αυτά με:\n\n```bash\n$ find matrix/ -name 'solution' -exec file {} \\;\n# ... ✂️ snip ...\nmatrix/1/1/25/solution: symbolic link to .\nmatrix/1/1/60/solution: symbolic link to .\nmatrix/1/1/11/solution: symbolic link to .\nmatrix/1/1/1/solution: symbolic link to .\nmatrix/1/1/38/solution: symbolic link to .\nmatrix/1/1/36/solution: symbolic link to .\n```\n\n> `-name`: Διατάζει την `find` να επιστρέψει μόνο αρχεία που το όνομά τους είναι \"solution\".\n> `-exec`: Τρέχει την εντολή `file` πάνω σε κάθει αρχείο που βρίσκει η `find`. Δείτε περισσότερα: [man 1 find](https://www.man7.org/linux/man-pages/man1/find.1.html).\n\nΒλέπουμε λοιπόν ότι όλα αυτά τα προβληματικά αρχεία που λέγονται \"solution\" είναι κάτι αρχεία που λέγονται \"symbolic links\". Ενδιαφέρον. Σύμφωνα με το εμπίστο εγχειρίδιο, [man 7 symlink](https://www.man7.org/linux/man-pages/man7/symlink.7.html), αυτά τα αρχεία δεν έχουν πραγματικό περιεχόμενο και απλά \"δείχνουν\" σε κάποιο άλλο αρχείο ή κατάλογο. Έτσι, όταν πάμε να διαβάσουμε ένα στην ουσία διαβάζουμε το αρχείο στο όποιο \"δείχνει\".\n\nΜε τις καινούργιες μας γνώσεις, καταλαβαίνουμε λοιπόν ότι η `file`, που τρέξαμε μέσω της `find`, μας λέει ότι τα αρχεία \"solution\" δείχνουν στον κατάλογο `.`, δηλαδή τον κατάλογο στον οποίο βρίσκονται. Αυτό είναι κάπως προβληματικό για την `grep` διότι κάθε φόρα που βρίσκει ένα τέτοιο αρχείο, το ακολουθεί και καταλήγει στον ίδιο κατάλογο. Έπειτα ξαναβρίσκει το ίδιο αρχείο και το ξαναακολούθει. Και ο κύκλος επαναλαμβάνεται. Ευτυχώς η `grep` είναι έξυπνη και το καταλαβαίνει. Πρέπει λοιπόν να πούμε στην `grep` να μην ακολούθει τα symlinks που θα βρεί.\n\n```bash\n$ grep -rn \"thanassis\" matrix/\nmatrix/5/2/4/36/secret:1:Ah, you've stumbled upon my decoy thanassis! The real secret? Safely tucked away where not even Sherlock with a GPS could find it.\nmatrix/3/3/33/secret:3:if you are thinking this is the big reveal thanassis, think again. my secret's safe.\nmatrix/2/1/54/secret:2:thanassis: this is really not my secret, it's yet another deception\nWARNING: grep error: Unable to read file, this incident will be reported with insufficient permissions - try again later.\n```\n\n> `-r`: Ψάξε κάθε αρχείο στο matrix/ καθώς και σε κάθε υποκατάλογο του επαναληπτικά. Εδώ δεν μπορούμε να χρησιμόποιησουμε το `-R` γιατί ενώ κάνει την ίδια δουλεία, λέει στο `grep` να ακολούθει ότι symlink βρει. Περισσότερα εδώ: [man 1 grep](https://www.man7.org/linux/man-pages/man1/grep.1.html).\n\nΗ τελευταία γραμμή είναι λίγο ύποπτη. Τα περισσότερα εργαλεία των `coreutils` (`cat`, `ls`, ...) δεν τύπωνουν τέτοια μηνύματα. Διότι δεν είναι η δουλεία τους να αναφέρουν τέτοια \"security incidents\". Αυτό θα ήταν η δουλεία είτε συστημάτων όπως το [SELinux](https://en.wikipedia.org/wiki/Security-Enhanced_Linux), το [AppArmor](https://en.wikipedia.org/wiki/AppArmor), το [auditd](https://wiki.archlinux.org/title/Audit_framework) και αλλών. Γενικά τα εργαλεία των `coreutils` (`cat`, `ls`, `mkdir`, `grep`, `find`, ...) δεν έχουν καμία τέτοια ευθύνη, και επομένως δεν περιέχουν κώδικα για να τσεκάρουν τέτοιες περιπτώσεις, πέρα από το βασικό `errno` της C.\n\nΥποψιαζόμαστε ότι ο πανούργος `byte12` έχει κάνει παρόμοια κόλπα με έναν άλλον ύπουλο χρήστη προηγούμενης δοκιμάσιας `byte`, ο οποίος χρησιμοποίησε το `\\r` για να κρύψει την αλήθεια. Θύμομαστε από το εξαιρετικό μάθημα του κ. Αυγερινού ότι το `\\r` (carriage return) πηγαίνει τον cursor στην αρχή της γραμμής. Έτσι αν τυπώσουμε κάτι, μετά τυπώσουμε ένα `\\r` και έπειτα κάτι άλλο, ό,τι τύπωσαμε αρχικά θα αντικατασταθεί με ό,τι τυπώσαμε μετά. Μπορούμε απλώς να πούμε στην `grep` να μην τυπώσει τα περιεχόμενα του αρχείου και απλά να μας πει το μονοπάτι του.\n\n```basη\n$ grep -rnl \"thanassis\" matrix/\nmatrix/5/2/4/36/secret\nmatrix/3/3/33/secret\nmatrix/2/1/54/secret\nmatrix/1/1/63/secret\n```\n\n> `-l`: Τύπωσε μόνο το όνομα των αρχείων στο οποίο βρήκες το PATTERN (\"thanassis\" σε αυτή τη περίπτωση).\n\nΤώρα η `grep` τύπωσε ένα παραπάνω αρχείο, το `matrix/1/1/63/secret`, σε σχέση με πριν. Άρα οι υποψίες μας ήταν μάλλον σωστές, αλλιώς η `grep` θα παραπονιόταν πάλι με τον ίδιο μήνυμα. Ανοίγωντας το αρχείο με την εντολή `xxd` θα δούμε τι περιέχει πραγματικά σε bytes στο δεκαεξαδικο σύστημα.\n\n```bash\n$ xxd matrix/1/1/63/secret\n00000000: 7468 616e 6173 7369 7320 7365 6372 6574  thanassis secret\n00000010: 3a20 636f 6e67 7261 7473 5f6e 6f77 5f79  : congrats_now_y\n00000020: 6f75 5f63 616e 5f66 696e 616c 6c79 5f65  ou_can_finally_e\n00000030: 6e6a 6f79 5f77 655f 6172 655f 756f 6120  njoy_we_are_uoa\n00000040: 0d57 4152 4e49 4e47 3a20 6772 6570 2065  .WARNING: grep e\n00000050: 7272 6f72 3a20 556e 6162 6c65 2074 6f20  rror: Unable to\n00000060: 7265 6164 2066 696c 652c 2074 6869 7320  read file, this\n00000070: 696e 6369 6465 6e74 2077 696c 6c20 6265  incident will be\n00000080: 2072 6570 6f72 7465 6420 7769 7468 2069   reported with i\n00000090: 6e73 7566 6669 6369 656e 7420 7065 726d  nsufficient perm\n000000a0: 6973 7369 6f6e 7320 2d20 7472 7920 6167  issions - try ag\n000000b0: 6169 6e20 6c61 7465 722e 0a              ain later..\n```\n\nΣτα αριστερά βλέπουμε τα bytes σε δεκαεξαδική αναπαράσταση και στα δεξία βλέπουμε τα ίδια bytes ως χαρακτήρες του ASCII, δηλαδή όπως θα τυπώνονταν στη κονσόλα. Παρατηρούμε στα δεξία ότι υπάρχει το ύποπτο μήνυμα που μας τύπωνε η `grep`. Πριν από αυτό υπάρχει το byte `0x0d`, που σύμφωνα με τον [πίνακα ASCII](https://www.man7.org/linux/man-pages/man7/ascii.7.html) είναι το `\\r` ή carriage return.\n\n```\nOct   Dec   Hex   Char\n-----------------------------------\n# ... ✂️ snip ...\n014   12    0C    FF  '\\f' (form feed)\n015   13    0D    CR  '\\r' (carriage return)\n016   14    0E    SO  (shift out)\n# ... ✂️ snip ...\n```\n\nΜπορούμε να χρησιμοποίησουμε την εντολή `tr` για να αντικαταστήσουμε τον χαρακτηρα `\\r` με τον `\\n`, έτσι ώστε να τυπώνεται μια καινούργια γραμμή και να μπορουμε να διαβάσουμε το αρχείο κανονικά.\n\n```bash\n$ cat matrix/1/1/63/secret | tr '\\r' '\\n'\nthanassis secret: congrats_now_you_can_finally_enjoy_we_are_uoa\nWARNING: grep error: Unable to read file, this incident will be reported with insufficient permissions - try again later.\n```\n\nΚαι έτσι, ως έμπειροι χρήστες του Linux, κατατροπώσαμε τον χρήστη `byte12` μαζί με τα κόλπα του και βρήκαμε το μυστικό του.\n\n>> **Σημείωση:** Εγώ αρχικά χρησιμοποίσα την `strace -s256 -e write grep -rn \"thanassis\" matrix/` και για να βρω αν το μήνυμα που τύπωνε η `grep` ήταν όντως αληθινό και για να βρω και τι πραγματικά τύπωνε. Φυσικά η `strace` είναι πάρα πολυ περίπλοκη εντολή και πιστευώ ότι εδώ δεν είναι το κατάλληλο μέρος για να αναλυθεί το πως ένα πρόγραμμα επικοινωνεί με τα Linux μέσω των syscalls.\n\n**EDIT:** Grammar.\n\n**EDIT:** Update man links.</md>","created":"2024-10-19T09:41:22Z","bucket_order":6,"bucket_name":"Last week","type":"followup","tag_good":[{"role":"student","name":"Antonis Ntoumanis","endorser":{},"admin":false,"photo":null,"id":"m1qm1inamyh2lb","photo_url":null,"published":true,"email":"ntoumanis@gmail.com","us":false,"facebook_id":null},{"role":"student","name":"Stavros Skaltsas","endorser":{},"admin":false,"photo":null,"id":"m1p1n3z3mo7eo","photo_url":null,"published":true,"email":"sdi2400180@di.uoa.gr","us":false,"facebook_id":null},{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null},{"role":"student","name":"Nikiforos Efraim Maraidonis","endorser":{},"admin":false,"photo":null,"id":"m20bclp1b1g3fy","photo_url":null,"email":"sdi2400119@di.uoa.gr","us":false,"facebook_id":null}],"uid":"m1w5urtwklx4r8","children":[{"anon":"no","folders":[],"data":null,"subject":"<p>Έδωσες ρεσιτάλ με αυτό το write up! Σε ευχαριστώ πολύ που το μοιράστηκες!</p>\n<p></p>\n<p>Αν έχω την άδειά σου, θα ήθελα να το χρησιμοποιήσω ως ενδεικτική λύση / υπόδειγμα σε μελλοντικά φυλλάδια/υλικό.</p>","created":"2024-10-19T17:45:51Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"feedback","tag_good":[],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":[],"id":"m2gg9is3n0x79z","updated":"2024-10-19T17:45:51Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":null,"subject":"<md>Σας ευχαριστώ για τα καλά σας λόγια!\n\nΦυσικά έχετε την άδειά μου να χρησιμοποιήσετε το writeup με οποιονδήποτε τρόπο σύμφωνα με τους όρους του [CC0 1.0 Universal](https://creativecommons.org/publicdomain/zero/1.0/legalcode.txt).</md>","created":"2024-10-20T07:41:42Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m1w5urtwklx4r8","children":[],"tag_good_arr":["llz2dt5jij45lu"],"id":"m2ha4flqui529q","updated":"2024-10-20T09:27:52Z","config":{"editor":"md"}}],"tag_good_arr":["m1qm1inamyh2lb","m1p1n3z3mo7eo","llz2dt5jij45lu","m20bclp1b1g3fy"],"no_answer":0,"id":"m2fyygjgyyj2be","updated":"2024-10-20T21:01:20Z","config":{"editor":"md"}},{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<md>Εγώ έκανα μια πιο άκομψη λύση, αφού και εγώ βρέθηκα στο μήνυμα της grep που μου φάνηκε ύποπτο, είπα να σαρώσω όλα τα αρχεία solution.txt σε όλα τα subdirectory του matrix και να τα σώσω σε ένα αρχείο output.txt  \nAφού έφτιαξα ένα directory secret στο /tmp έτρεξα\n\n```console\ncd \\tmp\nmkdir secret\nfind ./matrix -type f -name \"solution.txt\" -exec cat {} + > /tmp/secret/output.txt\n```\nΑυτό μου δημιούργησε ένα αρχείο κειμένου όπου μπαίνοντας με nano και κάνοντας where thanassis καποια στιγμή είδα το παρακάτω\n\n```text\nO, what a tangled web we weave, When first we practice to deceive.\n                -- Sir Walter Scott, \"Marmion\"\nthanassis secret: congrats_now_you_can_finally_enjoy_we_are_uoa ^MWARNING: grep error: Unable to read file, this incide>question = ( to ) ? be : ! be;\n                -- Wm. Shakespeare\nKiss me, Kate, we will be married o' Sunday.\n                -- William Shakespeare, \"The Taming of the Shrew\"\n```</md>","created":"2024-10-19T10:03:22Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"followup","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m1qm1inamyh2lb","children":[{"anon":"no","folders":[],"data":null,"subject":"Και αυτή η λύση κομψότατη! Βρήκες έναν τρόπο να συνδυάσεις εντολές (find &#43; cat) ώστε να βάλεις το σύνολο όλων των κειμένων σε ένα αρχείο και να το ψάξεις εύκολα! Όλα σε ένα νοικοκυρεμένα :)","created":"2024-10-19T17:49:55Z","bucket_order":8,"bucket_name":"Week 10/13 - 10/19","type":"feedback","tag_good":[],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":[],"id":"m2ggeqxgqyd1q5","updated":"2024-10-19T17:49:55Z","config":{"editor":"rte"}}],"tag_good_arr":["llz2dt5jij45lu"],"no_answer":0,"id":"m2fzqrklxlyn7","updated":"2024-10-19T17:49:55Z","config":{"editor":"md"}},{"anon":"stud","folders":[],"data":null,"no_upvotes":0,"subject":"<md>Με `grep -l -r \"thanassis\"` παίρνουμε όλα τα πιθανά files και τυπώνουμε το hexdump τους.<br>\n``` for f in $(grep -l -r \"thanassis\"); do hd $f; done ``` Δεν θέλει παραπάνω γραμμές, άρα μπορούμε να το γράψουμε με τη μία χωρίς copy-paste.<br>\nΛίγο overkill για 4 files, αλλά είναι αυτόματη.</md>","created":"2024-10-20T14:42:48Z","bucket_order":6,"bucket_name":"Last week","type":"followup","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m1p4kdsmbuk4ql","uid_a":"a_0","children":[{"anon":"no","folders":[],"data":null,"subject":"Άλλη μια ωραία λύση!","created":"2024-10-21T09:16:01Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":[],"id":"m2isxkeg76yom","updated":"2024-10-21T09:16:01Z","config":{"editor":"rte"}}],"tag_good_arr":["llz2dt5jij45lu"],"no_answer":0,"id":"m2hp5yfvnbq6oa","updated":"2024-10-21T09:16:01Z","config":{"editor":"md"}},{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<p>Να μοιραστώ και εγώ πως το έλυσα:</p>\n<p></p>\n<pre>\ngrep -r thanassis | vim -</pre>\n<p></p>\n<p>Δηλαδή με αναδρομική αναζήτηση (-r) του string σε όλους τους φακέλους και στην συνέχεια (για τους λόγους που αναφέρατε και παραπάνω ότι μπορεί να μην τυπώνονται τα πάντα) έκανα pipe το output σε έναν editor όπως ο vim που θα μου επιτρέψει να δω τέτοια &#34;κόλπα&#34;. Φυσικά μπορούσε να γίνει και pipe στο xxd ή άλλο πρόγραμμα που μας επιτρέπει να δούμε όλα τα bytes που περιέχει η έξοδος ενός προγράμματος. Για το &#34;αναδρομικό&#34; κομμάτι: θα το δούμε και αυτό στην συνέχεια του μαθήματος!</p>","created":"2024-10-21T09:19:50Z","bucket_order":6,"bucket_name":"Last week","type":"followup","tag_good":[{"role":"student","name":"Antonis Ntoumanis","endorser":{},"admin":false,"photo":null,"id":"m1qm1inamyh2lb","photo_url":null,"published":true,"email":"ntoumanis@gmail.com","us":false,"facebook_id":null}],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":["m1qm1inamyh2lb"],"no_answer":0,"id":"m2it2hlzwbmts","updated":"2024-10-21T09:25:22Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<md>Secret: congrats_now_you_can_finally_enjoy_we_are_uoa\n\nΑς ξεκινήσουμε με ένα μικρό storytime. Είναι 22:00. Μου στέλνει ένας φίλος μου μύνημα σε μια ομαδική και ρωτάει αν έχουμε λύσει το byte12. Λέω μάλλον θα εννοεί το 11, δεν παίζει. Του λέω ότι δεν υπάρχει. Μετά έρχεται και μου λέει άλλος  φίλος μου στην ομαδική ότι όντως υπάρχει.\n\nΑπό περιέργεια, προσπάθησα να κάνω ssh στο byte12...και εδώ αρχίζει η περιπέτεια.\n\n**Εκείνη την στιγμή εγώ δεν είχα ιδέα ότι υπήρχε αυτό το post.** Έψαχνα ότι μπορούσα να βρω μπροστά μου.\n\nΞεκινάω λοιπόν, με ένα ``ls``. Βλέπω ένα directory , το matrix. Μπαίνω σε αυτό. Εξερευνώ λίγο τα directories και βλέπω ότι τα directories συνεχίζουν..και συνεχίζουν..οπότε ξεκινάω και εγώ:\n\n``ls *``...``ls */*``...``ls */*/*/*/*/``...zzzz\n\nahem. Μέσα σε αυτή την \"διερεύνηση\" βρήκα:\na) μπορούσα να πάω μέχρι το ``*/*/*/*/*/`` πριν βάζοντας νέο αστεράκι(wildcard) να βγάλει error,\nb)κάποια αρχεία text που λέγονται secret\n\nΜετα από αρκετές προσπάθειες, προσπάθησα να κάνω `` cat`` όλα τα secret αρχεία, πιο συγκεκριμένα έκανα ``cat */*/*/*/*/secret`` . Ολόκληρο μυθιστόρημα ξεδιπλώθηκε στο terminal μου.\n\nΑποφασίζω να κάνω ``cat */*/*/*/*/secret | grep _`` μπας και είναι σε κανένα από αυτά τα αρχεία. Βλέπω μερικές (αν και σχετικά αλλοιωμένες σε σύγκριση με αυτές μέσα στο κάθε αρχείο) αγελάδες(Gentoo Linux reference?). Είχα το eureka moment μου για 5 λεπτά, μέχρι που κατάλαβα ότι ψάχνω string...και όχι αγελάδες.\n\nΜου στέλνει πάλι ο φίλος μου που μου είπε για το challenge (τους είχα πει για τις αγελάδες) και ρωτάει αν έχω δει το post στο piazza.\n\n...ωχ.\n\nΔιαβάζω το post και όπως και όλα τα άλλα (πιο λογικά, βέβαια) άτομα έψαξα και εγώ για το string thanassis. Οπότε συνεχίζω με την εντολή \n\n```cat */*/*/*/*/secret | grep thanassis``` \n\nΜερικά lines που λεγανε ότι δεν εύρηκα τίποτα και ένα error:\n\n```WARNING: grep error: Unable to read file, this incident will be reported with insufficient permissions - try again later.```\n\nΠερίεργο. Πρώτη φορά βλέπω το grep να λέει ότι θα με κάνει report. Έγινε το grep sudo? Το αγνόησα. Έχω δει πολλά τρελά errors στην ζωή μου.\n\nΠροσπαθώντας και ξανά προσπαθώντας απελπίστικα. Λέω θα κάνω ένα cat και θα διαβάσω τις γραμμές by hand. Το κοιτάω και ποιος εμφανίστηκε πάλι? Το ίδιο error. Μα καλά... χρησιμοποιώ cat σκέτο, μου πετάει error υποτίθεται το grep, και λέει ότι θα με κάνει report λες και είναι sudo?  Κάτσε...**αυτό δεν είναι πραγματικό error!**\n\nΆρα εκεί το έκρυψε λέω. Θα μας έκανε κάνα κόλπο με το return escape character (\\r). Τελικά κατέληξα στον εξής συνδυασμό εντολών:\n\n``` cat */*/*/*/*/secret | grep thanassis | tr '\\r' '\\n' ```\nΤο οποίο συνοπτικά, κάνει τα εξής:\n\n``cat */*/*/*/*/secret | grep thanassis``: (πρακτικά)το grep -r \"thanassis\" που έκανε ο Σταύρος, αλλά για ηλίθιους (σαν εμένα δηλαδή)\n\n``tr '\\r' '\\n'``: αντικαθιστά κάθε return character με newline character ώστε αντί για να γράφεται το error πάνω σε ότι ήταν γραμμένο πριν από αυτό, γράφονται το ένα κάτω από το άλλο (είναι και πιο καθαρό έτσι)\n\nκαι....\n\n```\n...\ncient permissions - try again later.\nthanassis secret: congrats_now_you_can_finally_enjoy_we_are_uoa\nWARNING: grep error: Unable to read file, this incident will be reported with insufficient \n....\n```\nΕΥΡΗΚΑ(for real this time)\n\nΝαι, το ξέρω: το ``cat */*/*/*/*/`` δεν ήταν και τόσο σοφή ιδεα, αλλά αφού έκανε την δουλειά του εκείνη την στιγμή δεν με ένοιαξε και τόσο.\n\nUntil next time!</md>","created":"2024-10-21T23:08:24Z","bucket_order":6,"bucket_name":"Last week","type":"followup","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null},{"role":"student","name":"Stavros Skaltsas","endorser":{},"admin":false,"photo":null,"id":"m1p1n3z3mo7eo","photo_url":null,"published":true,"email":"sdi2400180@di.uoa.gr","us":false,"facebook_id":null}],"uid":"m20bq8lotxe2nq","children":[{"anon":"no","folders":[],"data":null,"subject":"Άλλο ένα πολύ ωραίο write up - σε ευχαριστούμε που το μοιράστηκες! Και το `tr` είναι πολύ χρήσιμο μερικές φορές :)","created":"2024-10-22T09:30:34Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[{"role":"student","name":"Giwrgos Dafnis","endorser":{},"admin":false,"photo":null,"id":"m20bq8lotxe2nq","photo_url":null,"email":"sdi2400036@uoa.gr","us":false,"facebook_id":null}],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":["m20bq8lotxe2nq"],"id":"m2k8w57b82t625","updated":"2024-10-22T10:06:49Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":null,"subject":"<md>Ήτανε lifesaver εδώ. Αλλιώς θα έπρεπε να κάνω append to output σε κάποιο file και να το ανοίξω με π.χ. vim. Και αυτό λειτουργεί, αλλά τα έκανα όλα αυτά από το κινητό οπότε θα γινόταν ακόμα πιο χρονοβόρο.\n\nOn that note, ένα έξτρα ``| grep _`` στο τέλος της προηγουμένης εντολής θα το έδειχνε ακόμα πιο καθαρά (θα έδειχνε μόνο τα thanassis secret lines χωρίς τα errors).</md>","created":"2024-10-22T10:04:13Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m20bq8lotxe2nq","children":[],"tag_good_arr":["llz2dt5jij45lu"],"id":"m2ka3eyzek19p","updated":"2024-10-22T18:45:38Z","config":{"editor":"md"}},{"anon":"no","folders":[],"data":null,"subject":"&#43;1 αν τα έκανες όλα αυτά από το κινητό :)","created":"2024-10-22T18:46:06Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[{"role":"student","name":"Giwrgos Dafnis","endorser":{},"admin":false,"photo":null,"id":"m20bq8lotxe2nq","photo_url":null,"email":"sdi2400036@uoa.gr","us":false,"facebook_id":null}],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":["m20bq8lotxe2nq"],"id":"m2ksqk7n5xl1o","updated":"2024-10-23T10:15:02Z","config":{"editor":"rte"}}],"tag_good_arr":["llz2dt5jij45lu","m1p1n3z3mo7eo"],"no_answer":0,"id":"m2jmo0yojbt4uq","updated":"2024-10-22T18:46:06Z","config":{"editor":"md"}},{"anon":"no","folders":[],"data":null,"no_upvotes":0,"subject":"<p>Στην αρχή χρησιμοποίησα την εντολή cd matrix για να μπω μέσα στο πρώτο αρχείο και μετά έκανα grep -r &#34;thanassis&#34; και μου εμφάνισε 3 αποτελέσματα τα οποία περιείχαν το string &#34;thanassis&#34; αλλά όχι την λύση και ένα error. Μετά έψαξα και βρήκα την εντολή find -type f -exec grep -lr &#34;thanassis&#34; {} \\; την οποία έτρεξα και μου έβγαλε 4 διαφορετικά filepaths. Από αυτά τα τέσσερα με την εντολή cd 1/1/63 ακολούθησα το τελευταίο filepath το οποίο περιείχε μέσα δύο αρχεία ενα secret και ένα solution. Κάνοντας nano secret βρήκα το περιεχόμενό του μέσα στο οποίο ήταν η λύση και το error message.</p>\n<p></p>\n<p>Λύση: congrats_now_you_can_finally_enjoy_we_are_uoa</p>","created":"2024-10-26T15:35:07Z","bucket_order":3,"bucket_name":"Today","type":"followup","tag_good":[{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"uid":"m1qnu4mlarv2eo","children":[{"anon":"no","folders":[],"data":null,"subject":"Πολύ ωραία χρήση του -exec option της find! Συνήθως το μαθαίνουμε αρκετά αργότερα αλλά είναι χρήσιμο συχνότατα! Σε ευχαριστούμε που το μοιράστηκες!","created":"2024-10-27T06:58:37Z","bucket_order":3,"bucket_name":"Today","type":"feedback","tag_good":[],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":[],"id":"m2r8nzn67wb4jg","updated":"2024-10-27T06:58:37Z","config":{"editor":"rte"}}],"tag_good_arr":["llz2dt5jij45lu"],"no_answer":0,"id":"m2qbocu2ycwbw","updated":"2024-10-27T06:58:37Z","config":{"editor":"rte"}}],"tag_good_arr":["m1p1n3z3mo7eo","lnklca08wcdht","m1pclyywpzg20t","m1qgr3yoapb1fu"],"anon_icons":true,"id":"m2fu1kj84m91zt","config":{"bypass_email":1,"editor":"rte","has_emails_sent":1},"status":"active","drafts":{},"request_instructor":0,"request_instructor_me":false,"bookmarked":9,"num_favorites":4,"my_favorite":false,"is_bookmarked":true,"is_pinned":false,"is_tag_good":false,"q_edits":[],"i_edits":[],"s_edits":[],"t":1756372070822,"default_anonymity":"no","my_post":true},"error":null,"aid":"mev6kz9x5tp3d7"}