{"result":{"history_size":1,"folders":["labs"],"nr":353,"data":{"embed_links":[]},"created":"2025-01-18T15:09:48Z","bucket_order":3,"no_answer_followup":0,"change_log":[{"anon":"stud","uid":"m1pefweqjap1nj","data":"m62brcvrfx55x","v":"all","type":"create","when":"2025-01-18T15:09:48Z","uid_a":"a_0"},{"anon":"no","uid":"ln71y5aw8yv4sw","data":"m62dbsjd77b19i","to":"m62brcvjri45w","type":"i_answer","when":"2025-01-18T15:53:41Z"}],"bucket_name":"Today","history":[{"anon":"stud","uid":"m1pefweqjap1nj","uid_a":"a_0","subject":"απορια για strcat","created":"2025-01-18T15:09:48Z","content":"<p>char *mystrcat (char *s1, char *s2) {<br />    s1 &#43;= mystrlen(s1);<br />    while (*s2!=&#39;\\0&#39;) {<br />        *s1 = *s2;<br />        s1&#43;&#43;;<br />        s2&#43;&#43;;<br />    }<br />    *s1 = &#39;\\0&#39;;<br />    return s1;<br />}<br /><br />εχω δυο ερωτησεισ για αυτην την υλοποίηση<br /><br />1) δεν θα έπρεπε να αφαιρέσουμε το &#39;\\0&#39; που ήδη υπάρχει στο s1 πριν αρχίζουμε και κολλαμε απο πίσω του στο s2?<br /><br /><br /></p>\n<p>2) στο τέλος δεν θα έπρεπε να επιστρέφουμε το s1 να δειχνει στο πρωτο χαρακτηρα του string?</p>"}],"type":"question","anon_map":{"m1pefweqjap1nj":"a_0"},"tags":["labs","student"],"tag_good":[],"unique_views":100,"children":[{"history_size":1,"folders":[],"data":{"embed_links":[]},"created":"2025-01-18T15:53:41Z","bucket_order":3,"tag_endorse":[{"role":"student","name":"Konstantinos Diakonos","endorser":{},"admin":false,"photo":null,"id":"m1pefweqjap1nj","photo_url":null,"published":true,"email":"sdi2400040@di.uoa.gr","us":false,"facebook_id":null},{"role":"professor","name":"Thanassis Avgerinos","endorser":{},"admin":true,"photo":null,"id":"llz2dt5jij45lu","photo_url":null,"email":"thanassis@di.uoa.gr","us":false,"admin_permission":15,"facebook_id":null}],"bucket_name":"Today","history":[{"anon":"no","uid":"ln71y5aw8yv4sw","subject":"","created":"2025-01-18T15:53:41Z","content":"<p>Για το 1, τι ακριβώς εννοείς να το αφαιρέσουμε;</p>\n<p></p>\n<p>Ο παραπάνω κώδικας (υποθέτοντας ότι η mystrlen κάνει ότι ακριβώς και η κανονική strlen) το πρώτο πράγμα που κάνει είναι να μετακινήσει τον δείκτη s1 τόσες θέσεις όσες οι χρήσιμοι χαρακτήρες της συμβολοσειράς.</p>\n<p></p>\n<p>Δηλαδή αν στο σημείο που έδειχνε αρχικά ο s1 υπήρχε η ακολουθία από bytes</p>\n<pre>\n&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;\\0&#39;, ...\n ^\ns1</pre>\n<p>η strlen θα σου έλεγε ότι το μήκος είναι 3 (όσοι και οι χαρακτήρες πριν το &#39;\\0&#39; δηλαδή) και το αποτέλεσμα του να προσθέσεις 3 στον s1 θα ήταν ο δείκτης να μετακινηθεί 3 θέσεις πιο πέρα, δηλαδή:</p>\n<pre>\n&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;\\0&#39;, ...\n                ^\n               s1</pre>\n<p>Έτσι μετά την εκτέλεση του <kbd>s1 &#43;= mystrlen(s1); </kbd>ο δείκτης s1 θα δείχνει εκεί που βρίσκεται το &#39;\\0&#39; της πρώτης συμβολοσειράς.</p>\n<p></p>\n<p>Αν η s2 δείχνει στην παρακάτω ακολουθία από bytes</p>\n<pre>\n&#39;1&#39;, &#39;2&#39;, &#39;\\0&#39;, ...\n ^\ns2</pre>\n<p>τότε με το που θα μπει στο while και θα εκτελέσει το </p>\n<pre>\n *s1 = *s2;</pre>\n<p>αυτό που υπάρχει εκεί που δείχνει ο s1 (δηλαδή το &#39;\\0&#39; της πρώτης) θα γραφτεί από πάνω με την τιμή που υπάρχει εκεί που δείχνει o s2 δηλαδή το &#39;1&#39; και η κατάσταση θα είναι κάπως έτσι:</p>\n<pre>\n&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;1&#39;, ...\n                ^\n               s1\n&#39;1&#39;, &#39;2&#39;, &#39;\\0&#39;, ...\n ^\ns2</pre>\n<p>και μετά μετακινεί και τους δύο δείκτες κατά μία θέση και συνεχίζει αντιγράφοντας τα υπόλοιπα bytes μέχρι ο s2 να δείχνει σε σημείο που βρίσκεται &#39;\\0&#39;.</p>\n<p></p>\n<p>Έτσι με το που τελειώσουν όλες οι επαναλήψεις του while, η κατάσταση θα είναι κάπως έτσι:</p>\n<pre>\n&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;1&#39;, &#39;2&#39;, ...\n                         ^\n                        s1\n&#39;1&#39;, &#39;2&#39;, &#39;\\0&#39;, ...\n           ^\n          s2</pre>\n<p>και με το <kbd>*s1 = &#39;\\0&#39;;</kbd> θα βάλει το  &#39;\\0&#39; στο τέλος, δηλαδή:</p>\n<pre>\n&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;1&#39;, &#39;2&#39;, &#39;\\0&#39;, ...\n                         ^\n                        s1\n&#39;1&#39;, &#39;2&#39;, &#39;\\0&#39;, ...\n           ^\n          s2</pre>\n<p>Οπότε πρακτικά το παλιό &#39;\\0&#39; της s1 γράφτηκε από πάνω με το &#39;1&#39; και &#34;έφυγε&#34;, δεν χρειάστηκε να κάνουμε κάτι παραπάνω. </p>\n<p></p>\n<p>Τώρα για το 2, πολύ σωστά παρατήρησες ότι την ώρα του return ο δείκτης s1 δείχνει στο τέλος της συμβολοσειράς του αποτελέσματος, οπότε δεν είναι αυτό που θα θέλαμε να επιστρέψουμε.</p>\n<p>Ιδανικά θα έπρεπε να είχαμε κρατήσει ένα αντίγραφο της αρχικής θέσης του s1 στο πάνω μέρος της συνάρτησης και θα επιστρέφαμε εκείνο. </p>"}],"type":"i_answer","tag_endorse_arr":["m1pefweqjap1nj","llz2dt5jij45lu"],"children":[],"id":"m62dbsj6cfh19h","config":{"editor":"rte"},"is_tag_endorse":true}],"tag_good_arr":[],"no_answer":0,"anon_icons":true,"id":"m62brcvjri45w","config":{"editor":"rte","has_emails_sent":1},"status":"active","drafts":{},"request_instructor":0,"request_instructor_me":false,"bookmarked":2,"num_favorites":0,"my_favorite":false,"is_bookmarked":false,"is_pinned":false,"is_tag_good":false,"q_edits":[],"i_edits":[],"s_edits":[],"t":1756372606890,"default_anonymity":"no"},"error":null,"aid":"mev6wgwryye5de"}