{"result":{"history_size":1,"folders":["hw2","hw2∕fauxtoshop"],"nr":290,"data":{"embed_links":[]},"created":"2023-12-30T15:11:55Z","bucket_order":3,"no_answer_followup":0,"change_log":[{"anon":"stud","uid":"ln8yb0frn4o6x6","data":"lqs7b4gjffbky","v":"all","type":"create","when":"2023-12-30T15:11:55Z","uid_a":"a_0"},{"anon":"no","uid":"ln71y5aw8yv4sw","data":"lqs7nnu58az3qo","to":"lqs7b4ggvejkx","type":"i_answer","when":"2023-12-30T15:21:40Z"},{"anon":"no","uid":"ln71y5aw8yv4sw","data":"lqs7rr1xwwg57s","type":"i_answer_update","when":"2023-12-30T15:24:51Z"},{"anon":"stud","uid":"ln8yb0frn4o6x6","to":"lqs7b4ggvejkx","type":"followup","when":"2023-12-30T15:28:30Z","cid":"lqs7wftxe4o6h","uid_a":"a_0"},{"anon":"no","uid":"llz2dt5jij45lu","to":"lqs7b4ggvejkx","type":"feedback","when":"2023-12-30T21:00:06Z","cid":"lqsjqvfurzw3be"}],"bucket_name":"Today","history":[{"anon":"stud","uid":"ln8yb0frn4o6x6","uid_a":"a_0","subject":"Πρόβλημα με τη συνάρτηση fread","created":"2023-12-30T15:11:55Z","content":"<md>Καλησπέρα,\n\nΉθελα να κάνω μια ερώτηση σχετικά με τη συνάρτηση fread. Πιο συγκεκριμένα, έχω χρησιμοποιήσει την fread για να διαβάσω τα pixels της εκάστοτε εικόνας. Όταν τρέχω την εντολή \n```console \ngcc -o fauxtoshop fauxtoshop.c\n```\nδεν μου εμφανίζει κάποιο πρόβλημα. Ωστόσο κατά την εκτέλεση της εντολής \n```console\ngcc -O3 -Wall -Wextra -Werror -pedantic -o fauxtoshop fauxtoshop.c\n```\nμου εμφανίζεται το παρακάτω πρόβλημα:\n```terminal\nfauxtoshop6.c:60:9: error: ignoring return value of ‘fread’ declared with attribute ‘warn_unused_result’ [-Werror=unused-result]\n   60 |         fread(...)\n```\nΤα \"...\" έχουν αντικαταστήσει τις παραμέτρους που έχω εισάγει.\n\nΑπ' ότι καταλαβαίνω μου λέει πως την τιμή της fread δεν την έχω χρησιμοποιήσει κάπου μετά στο πρόγραμμα. Ωστόσο εγώ το μόνο που θέλω είναι απλά να διαβάσω δεδομένα κι όχι να τη χρησιμοποιήσω πιο μετά την τιμή που παίρνω και γι αυτό θα ήθελα να ρωτήσω αν μπορώ να κάνω κάτι για να αποφύγω αυτό το error.\n\nΕυχαριστώ εκ των προτέρων και συγγνώμη αν σας κούρασα</md>"}],"type":"question","anon_map":{"ln8yb0frn4o6x6":"a_0"},"tags":["hw2","hw2∕fauxtoshop","student"],"tag_good":[],"unique_views":121,"children":[{"history_size":2,"folders":[],"data":{"embed_links":[]},"created":"2023-12-30T15:21:40Z","bucket_order":3,"tag_endorse":[],"bucket_name":"Today","history":[{"anon":"no","uid":"ln71y5aw8yv4sw","subject":"","created":"2023-12-30T15:24:51Z","content":"Εσύ θέλεις να διαβάσεις τα δεδομένα με την fread και θέλεις μόνο αυτά, αλλά τι είναι αυτό που σου λέει ότι η fread κατάφερε να τα διαβάσει όλα όσα της είπες;<div><br /></div><div>Η επιστρεφόμενη τιμή της fread είναι πόσα κατάφερε να διαβάσει και υπάρχουν πολλές περιπτώσεις που δεν θα καταφέρει να διαβάσει όσα εσύ ήθελες. Αν για παράδειγμα το αρχείο εισόδου είναι κομμένο και δεν τα έχει όλα, η fread θα σου φέρει λιγότερα. Ο μόνος τρόπος να το καταλάβεις αυτό είναι να κοιτάξεις τι σου επέστρεψε. Σύμφωνα με την εκφώνηση το πρόγραμμα σου θα πρέπει να ανιχνεύει τέτοιες περιπτώσεις και να βγάζει αντίστοιχο σφάλμα. </div><div><br /></div><div>Ο gcc προσπαθεί να σε προστατέψει από τέτοια λάθη και σου λέει «δεν κοίταξες πόσα κατάφερε να διαβάσει, είσαι σίγουρος ότι θες να προχωρήσεις στα τυφλά λες και τα διάβασε;» Το οποίο κανονικά είναι warning, αλλά με το -Werror το αντιμετωπίζει σα σφάλμα.</div>"},{"anon":"no","uid":"ln71y5aw8yv4sw","subject":"","created":"2023-12-30T15:21:40Z","content":"Εσύ θέλεις να διαβάσεις τα δεδομένα με την fread και θέλεις μόνο αυτά, αλλά τι είναι αυτό που σου λέει ότι η fread κατάφερε να τα διαβάσει όλα όσα της είπες;<div><br /></div><div>Η επιστρεφόμενη τιμή της fread είναι πόσα κατάφερε να διαβάσει και υπάρχουν πολλές περιπτώσεις που δεν θα καταφέρει να διαβάσει όσα εσύ ήθελες. Αν για παράδειγμα το αρχείο εισόδου είναι κομμένο και δεν τα έχει όλα, η fread θα σου φέρει λιγότερα. Σύμφωνα με την εκφώνηση το πρόγραμμα σου θα πρέπει να ανιχνεύει τέτοιες περιπτώσεις και να βγάζει αντίστοιχο σφάλμα. </div><div><br /></div><div>Ο gcc προσπαθεί να σε προστατέψει από τέτοια λάθη και σου λέει «δεν κοίταξες πόσα κατάφερε να διαβάσει, είσαι σίγουρος ότι θες να προχωρήσεις στα τυφλά;» Το οποίο κανονικά είναι warning αλλά με το -Werror το αντιμετωπίζει σα σφάλμα</div>"}],"type":"i_answer","tag_endorse_arr":[],"children":[],"id":"lqs7nnu1hiz3qn","config":{},"is_tag_endorse":false},{"anon":"stud","folders":[],"data":null,"no_upvotes":0,"subject":"<md>Άρα για να αποφύγω το error και για να διασφαλίσω ότι έχω πάρει όσα δεδομένα χρειάζομαι πρέπει να χρησιμοποιήσω την τιμή που πήρα από την fread και να ελέγξω αν πχ θέλω να διαβάσω χ δεδομένα, ότι μέσω της fread έχω όντως καταφέρει να διαβάσω χ δεδομένα;</md>","created":"2023-12-30T15:28:30Z","bucket_order":4,"bucket_name":"Yesterday","type":"followup","tag_good":[],"uid":"ln8yb0frn4o6x6","uid_a":"a_0","children":[{"anon":"no","folders":[],"data":null,"subject":"<p>Ακριβώς, για παράδειγμα αν προσπάθησες να διαβάσεις μια ακριβώς κεφαλίδα (π.χ., των 54 bytes), θες να επιβεβαιώσεις ότι η fread κατάφερε να την διαβάσει και ο πιο απλός τρόπος να το πετύχεις είναι ελέγχοντας το return value της fread.</p>\n<p></p>\n<p>Για να το ελέγξεις και ο ίδιος, δώσε ένα αρχείο που έχει μόνο λίγα bytes στο πρόγραμμά σου και δες τι συμβαίνει, π.χ.:</p>\n<p></p>\n<pre>\n$ echo BM &gt; fake.bmp\n$ ./fauxtoshop &lt; fake.bmp\nError: not enough bytes to read bmp file\n$ echo $?\n1</pre>","created":"2023-12-30T21:00:06Z","bucket_order":3,"bucket_name":"Today","type":"feedback","tag_good":[{"role":"student","name":"Christos Theocharis","endorser":{},"admin":false,"photo":null,"id":"ln8yb0frn4o6x6","photo_url":null,"email":"sdi2300053@di.uoa.gr","us":false,"facebook_id":null}],"uid":"llz2dt5jij45lu","children":[],"tag_good_arr":["ln8yb0frn4o6x6"],"id":"lqsjqvfurzw3be","updated":"2023-12-31T11:22:58Z","config":{"editor":"rte"}}],"tag_good_arr":[],"no_answer":0,"id":"lqs7wftxe4o6h","d-bucket":"Yesterday","updated":"2023-12-30T21:00:14Z","config":{"editor":"md"}}],"tag_good_arr":[],"no_answer":0,"anon_icons":true,"id":"lqs7b4ggvejkx","config":{"editor":"md","has_emails_sent":1},"status":"active","drafts":{},"request_instructor":0,"request_instructor_me":false,"bookmarked":3,"num_favorites":0,"my_favorite":false,"is_bookmarked":true,"is_pinned":false,"is_tag_good":false,"q_edits":[],"i_edits":[],"s_edits":[],"t":1756374440314,"default_anonymity":"no"},"error":null,"aid":"mev7zrl6gvh5wc"}